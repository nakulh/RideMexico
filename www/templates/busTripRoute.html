<ion-view>
  <ion-nav-title>Bus Route: {{trips[0].route_short_name}}</ion-nav-title>
  <ion-tabs class="tabs-positive tabs-icon-top">

    <ion-tab title="Stations" icon-on="ion-ios-flag" icon-off="ion-ios-flag-outline">
      <ion-content>
        <ion-list>
          <ion-item><h3>BusRoute</h3></ion-item>
          <ion-item>BusRoute</ion-item>
          <ion-item  class="item-divider">Stations List</ion-item>
          <ion-item ng-repeat="stop in stops" class="item-icon-right" href="#/app/database/metroRoute/stop/{{stop.stop_lat}}/{{stop.stop_lon}}/{{stop.stop_name}}/{{stop.stop_desc}}">
            {{stop.stop_name}}
            <i class="icon ion-ios-arrow-right"></i>
          </ion-item>
        </ion-list>
      </ion-content>
    </ion-tab>

    <ion-tab title="Timing" icon-on="ion-android-time" icon-off="ion-ios-clock-outline">
      <ion-content class="padding-top">
        <ion-list>
          <ion-item><h1>BusRoute</h1></ion-item>

          <ion-item class="item-divider">
              <h2>{{trips[0].trip_desc}}</h2>
              <h5 class="assertive">Total route time: {{routeTime}}</h5>
          </ion-item>
        </ion-list>
        <ion-list ng-repeat="week in weeks">
          <ion-item class="item-divider">
            <button class="button button-small button-outline button-balanced margin-right" ng-repeat="day in week">
              {{day}}
            </button>
          </ion-item>
          <ion-item>
            <div class="row">
              <div class="col col-50">
                <h3 class="assertive">Time<h3>
              </div>
              <div class="col col-50">
                <h3 class="assertive">Frequency</h3>
              </div>
            </div>
          </ion-item>
          <ion-item ng-repeat="freq in frequencies[$index]">
            <div class="row">
              <div class="col col-50">
                <p>{{freq.start_time}} to {{freq.end_time}}<p>
              </div>
              <div class="col col-50">
                <p>{{freq.headway_secs}}s</p>
              </div>
            </div>
          </ion-item>
        </ion-list>
      </ion-content>
    </ion-tab>

    <ion-tab title="Map" icon-on="ion-android-map" icon-off="ion-android-map">
      <ng-map zoom="11" center={{shapeCenter}}>
        <shape id="polyline" name="polyline"
          geodesic="true" stroke-color="#FF0000"
          stroke-opacity="1.0" stroke-weight="3"
          path={{shapes}}>
        </shape>
        <marker position="{{stopMap}}" ng-repeat="stopMap in stopsMap" icon="../img/busMarker.png"></marker>
      </ng-map>
    </ion-tab>

  </ion-tabs>
</ion-view>
