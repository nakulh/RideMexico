<ion-view ng-controller="UserCtrl" view-title="Account">
  <ion-nav-title>Account</ion-nav-title>
  <ion-content ng-app="UserCtrl" scroll="false">
    <video autoplay loop id="bgvid" webkit-playsinline ng-class="{'bright-vid': vid}">
        <source src="img/bgVideo.MP4" type="video/mp4">
    </video>
    <h1 ng-if="!user" class="ride-mexico">Ride Mexico</h1>
    <div ng-if="!user">
      <div ng-show="form" ng-init="form = true" class="login">
        <label class="user-form item-input item-floating-label form-element">
          <span class="input-label">E-mail</span>
          <input type="text" ng-model="email" placeholder="E-mail" required="true">
        </label>
        <label class="user-form item-input item-floating-label form-element">
          <span class="input-label">Password</span>
          <input type="password" ng-model="password" placeholder="Password" required="true">
        </label>
        <button ng-click="initLogin(email, password)" class="button button-block button-energized">
          Login
        </button>
        <button ng-click="form = false" class="button button-clear button-small button-positive">
          Click here to register
        </button>
      </div>
      <div ng-show="!form" class="register">
        <label class="user-form item-input item-floating-label form-element">
          <span class="input-label">Full Name</span>
          <input type="text" ng-model="fullname" placeholder="Full Name" required="true">
        </label>
        <label class="user-form item-input item-floating-label form-element">
          <span class="input-label">Username</span>
          <input type="text" ng-model="username" placeholder="Username" required="true">
        </label>
        <label class="user-form item-input item-floating-label form-element">
          <span class="input-label">E-mail</span>
          <input type="text" ng-model="email" placeholder="E-mail" required="true">
        </label>
        <label class="user-form item-input item-floating-label form-element">
          <span class="input-label">Password</span>
          <input type="password" ng-model="password" placeholder="Password" required="true">
        </label>
        <button ng-click="initRegister(fullname, username, email, password)" class="button button-block button-assertive">
          Register
        </button>
        <button ng-click="form = true" class="button button-clear button-small button-positive">
          Click here to login
        </button>
      </div>
    </div>
    <div ng-if="user">
      <h2 class="bg-user username">Username</h2>
      <div class="bg-user favs">
        <i class="ion-heart stat-fav"></i><span class="padding stat-fav">4</span>
      </div>
      <div class="bg-user cards">
        <span class="stat-cards">Cards: 4</span>
      </div>
      <div class="bg-user late">
        <img src="img/emotions/late.png" height="27px" width="27px"><span class="padding stat-late">78</span>
      </div>
      <div class="bg-user conjusted">
        <img src="img/emotions/conjusted.png" height="27px" width="27px"><span class="padding stat-conjusted">0</span>
      </div>
      <div class="bg-user unmaintained">
        <img src="img/emotions/unmaintained.png" height="27px" width="27px"><span class="padding stat-unmaintained">5</span>
      </div>
    </div>
    <div ng-if="user" class="bar bar-footer bar-dark">
      <div ng-click="logout()" class="title">Logout</div>
    </div>
  </ion-content>
</ion-view>
